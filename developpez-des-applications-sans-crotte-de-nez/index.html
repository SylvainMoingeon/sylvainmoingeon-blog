<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>D√©veloppez des applications sans crotte de nez ! - Sylvain Moingeon </title>
        <meta name="description" content="Livrer des applications fonctionnelles est n√©cessaire mais pas suffisant. Un vrai boulanger ne laisse pas de crotte de nez dans son pain." />
        
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />

        <link rel="canonical" href="https://www.sylvainmoingeon.fr/developpez-des-applications-sans-crotte-de-nez/">
        
        <link rel="alternate" type="application/atom+xml" href="https://www.sylvainmoingeon.fr/feed.xml" />
<link rel="alternate" type="application/json" href="https://www.sylvainmoingeon.fr/feed.json" />

        <meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@SylvainMoingeon" /><meta name="twitter:title" content="D√©veloppez des applications sans crotte de nez !" /><meta name="twitter:description" content="Livrer des applications fonctionnelles est n√©cessaire mais pas suffisant. Un vrai boulanger ne laisse pas de crotte de nez dans son pain." /><meta name="twitter:image" content="https://www.sylvainmoingeon.fr/media/posts/30/hands.jpg" />
		<!-- Fontawesome -->
		<link href="https://www.sylvainmoingeon.fr/assets/fontawesome/css/all.css" rel="stylesheet"> 
    <!-- Prism (syntax highlighting) -->
    <link rel="stylesheet" href="https://www.sylvainmoingeon.fr/assets/css/prism.css">

	        <link rel="shortcut icon" href="https://www.sylvainmoingeon.fr/media/website/favicon.png" type="image/png" />
        
        <link rel="stylesheet" href="https://www.sylvainmoingeon.fr/assets/css/style.css?v=0e012ed91e5f5037de192001421feae3">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sylvainmoingeon.fr/developpez-des-applications-sans-crotte-de-nez/"},"headline":"D√©veloppez des applications sans crotte de nez !","datePublished":"2020-08-26T16:22","dateModified":"2020-08-26T16:22","image":{"@type":"ImageObject","url":"https://www.sylvainmoingeon.fr/media/posts/30/hands.jpg","height":3744,"width":5616},"description":"Livrer des applications fonctionnelles est n√©cessaire mais pas suffisant. Un vrai boulanger ne laisse pas de crotte de nez dans son pain.","author":{"@type":"Person","name":"Sylvain","url":"https://www.sylvainmoingeon.fr/auteurs/sylvain/"},"publisher":{"@type":"Organization","name":"Sylvain"}}</script>
        
        
		
    <script>
             
      function addEmailAddresses(){     
      document.querySelectorAll('.email').forEach(function(linkElement) {
      
        var domainname = window.atob("c3lsdmFpbm1vaW5nZW9uLmZy");
        var username = window.atob(linkElement.getAttribute("id"));
        var emailaddress = username + "@" + domainname;
        var mailto = window.atob("bWFpbHRv");  // mailto:
        //linkElement.innerHTML = emailaddress;
        linkElement.setAttribute("href", mailto + ":" + emailaddress + "?subject=[Contact%20site%20web]");
      });      
    }
            
    </script>

	    </head>
    <body onload="addEmailAddresses()" class="line-numbers">
        



<div class="container">
   <header class="top" id="js-top">
      <div>
         <a class="logo" href="https://www.sylvainmoingeon.fr/">
               Sylvain Moingeon
         </a>

               <nav class="navbar">
                  <button
                     class="navbar__toggle"
                     aria-label="Menu"
                     aria-haspopup="true"
                     aria-expanded="false">
                     <span class="navbar__toggle-box">
                        <span class="navbar__toggle-inner">Menu</span>
                     </span>
                  </button>
                <ul class="navbar__menu">
                         <li>
                           <a
                              href="https://www.sylvainmoingeon.fr/"
                                 target="_self"
            >
                              Accueil
                          </a>
            
                     </li>
                         <li>
                           <a
                              href="https://www.sylvainmoingeon.fr/contact/"
                                 target="_self"
            >
                              Contact
                          </a>
            
                     </li>
                </ul>
               </nav>

      </div>
   </header>
<main class="post">
      <article class="content wrapper">
         <div class="hero hero--narrow">
            <header class="hero__header">
                     <p>
                        <a href="https://www.sylvainmoingeon.fr/tags/bonnes-pratiques/" title="">bonnes pratiques</a>
                     </p>                    
               <h1>
                  D√©veloppez des applications sans crotte de nez !
               </h1>
                  <address>
                     par
                        <a href="https://www.sylvainmoingeon.fr/auteurs/sylvain/" rel="author">Sylvain</a>
                  </address>
                  publi√© le
                  <time datetime="2020-08-26T16:22">
                        mercredi 26 ao√ªt 2020
                  </time>
            </header>
                  <figure class="hero__image">
                     <img
                        src="https://www.sylvainmoingeon.fr/media/posts/30/hands.jpg"
                            srcset="https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-xs.jpg 300w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-sm.jpg 480w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-md.jpg 768w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-lg.jpg 1024w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-xl.jpg 1360w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/hands-2xl.jpg 1600w" sizes="100vw"
                         loading="eager"
                        height="3744"
                        width="5616"
                        alt="Un boulanger p√©trit sa p√¢te sans crotte de nez">
                      
                        <figcaption>
                           
                           Image par Free-Photos de Pixabay
                        </figcaption>                      
                  </figure>
         </div>
         <div class="content__entry">            
            <p>R√©cemment, j‚Äôai entendu un d√©veloppeur tenir les propos suivants :</p><blockquote>
<p>Non mais √ßa ne sert √† rien de faire du bon code, tout ce que le client demande c‚Äôest que √ßa fonctionne.</p></blockquote>
<p>Et malheureusement, sur la deuxi√®me partie de l‚Äôassertion il n‚Äôa pas tort. Mais c‚Äôest parce que le client ne connait pas le m√©tier et n‚Äôa aucune id√©e des r√©percussions sur le moyen/long terme d‚Äôun code de mauvaise qualit√©. Alors il faut que √ßa cesse ! </p><p>Et si au lieu de profiter de la situation pour justifier du travail de sagouin, on en profitait plut√¥t pour prendre ses responsabilit√©s ?</p>

<h1 id="√™tre-vraiment-professionnel">√ätre vraiment professionnel</h1>
<p>Laissez-moi vous raconter une histoire :</p><p>Vous vous rendez √† la boulangerie, √ßa sent bon le pain chaud, la baguette est bien dor√©e, croustillante √† l‚Äôext√©rieur, moelleuse √† l‚Äôint√©rieur, une v√©ritable baguette 100% fonctionnelle. Vous en salivez d√©j√†.</p><p>Et maintenant, si je vous raconte que j‚Äôai surpris le boulanger la main dans le froc en train de se gratter l‚Äôanus pendant qu‚Äôil p√©trissait la p√¢te. Toujours envie de vous en faire des tartines ?</p><p>Livrer une baguette seulement <em>fonctionnelle</em> est-ce vraiment tout ce qu‚Äôon demande √† un artisan boulanger ? Non, on exige de lui qu‚Äôil pr√©pare son pain dans les r√®gles de l‚Äôart, en respectant les bonnes pratiques de son m√©tier et en suivant scrupuleusement les r√®gles sanitaires.</p><p>Si je vous raconte qu‚Äôen cette p√©riode de crise covid19, votre boulanger travaille sans porter de masque et en √©ternuant all√©grement sur la p√¢te des croissants qu‚Äôil est en train de pr√©parer. Vous voyez la sc√®ne ? Un gros <em>ATCHOUM</em> accompagn√© d‚Äôun feu d‚Äôartifice de postillons et de s√©cr√©tions nasales qui viennent se d√©poser gaiement un peu partout dans la p√¢te. Mmmm, <em>un d√©lice</em>. Vous en pensez quoi ? S√©rieusement ? C‚Äôest professionnel comme comportement ?</p><p>√áa vous dit un croissant totalement fonctionnel aromatis√© √† la crotte de nez ?</p><figure class="post__image">
    <img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/30/croissants.jpg" alt="Croissants dans un panier - Image par Pexels de Pixabay" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://www.sylvainmoingeon.fr/media/posts/30/responsive/croissants-xs.jpg 300w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/croissants-sm.jpg 480w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/croissants-md.jpg 768w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/croissants-lg.jpg 1024w"></img>
    <figcaption>Ce serait dommage d'y trouver des crottes de nez, n'est-ce-pas ?</figcaption>
</figure>

<p>Bien entendu, vous avez parfaitement le droit de r√©pondre oui et de trouver que c‚Äôest normal de travailler comme √ßa tout en pr√©tendant √™tre un professionnel du m√©tier. Mais je n‚Äôirai pas manger chez vous ni vous recommander aupr√®s de mes clients !</p><p>Parce qu‚Äôun produit fonctionnel, c‚Äôest juste le B-A-BA, c‚Äôest le niveau z√©ro du m√©tier. C‚Äôest ce qu‚Äôon demande de produire √† un √©tudiant pour son projet de premi√®re ann√©e. Juste un truc qui marche. Mais √™tre professionnel, c‚Äôest un peu plus que √ßa non ? Non !?</p><h1 id="artisan-d√©veloppeur">Artisan d√©veloppeur</h1>
<p>Bien entendu, je ne pr√©tends pas que tout est toujours parfait, peut-√™tre le boulanger va-t-il y laisser un poil de bras ou une goutte de sueur. On ne peut pas tout pr√©voir, on n‚Äôest pas toujours au top. Parfois aussi on se trompe, c‚Äôest humain. Je vous le dis discr√®tement, √ßa reste entre nous, mais on n‚Äôa pas non plus la science infuse. Parfois on ne sait pas bien faire et on aurait pu faire mieux. </p><p>Alors quoi ?</p><p>Alors, on prend soin de respecter au mieux les bonnes pratiques, on se forme, on s‚Äôexerce, on ne se cache pas derri√®re un <em>de toute fa√ßon le client attend juste que √ßa fonctionne</em>. On se comporte comme un v√©ritable artisan du code.</p><p>C‚Äôest-√†-dire que s‚Äôil y a des bugs, c‚Äôest accidentel. Si le code l√®ve une <em>exception</em>, c‚Äôest parce qu‚Äôon a rencontr√© un cas <em>exceptionnel</em> (le terme d‚Äô<em>exception</em> n‚Äôa pas √©t√© choisi par hasard).</p><p>Un bug issu de <em>l‚Äôerreur humaine</em> est acceptable. Un bug issu de <em>non mais ce n‚Äôest pas la peine de coder proprement il suffit juste que √ßa fonctionne</em> est juste inacceptable. Vous saisissez la nuance ?</p><p>Autrement dit, on √©vite autant que possible d‚Äô√©ternuer sur le clavier et de laisser des crottes de nez partout dans le code.</p><h1 id="cest-quoi-une-crotte-de-nez-dans-le-code--il-est-o√π-le-probl√®me-">C‚Äôest quoi une crotte de nez dans le code ? Il est o√π le probl√®me ?</h1>
<p>Je pourrais √©crire une th√®se sur le sujet mais, que vous soyez d√©veloppeur ou que vous ayez un projet de d√©veloppement, je vous recommande plut√¥t la lecture du fantastique <a href="https://amzn.to/3gj03ST" title="Lien vers le livre The Pragmatic Programmer">The Pragmatic  Programmer, from journeyman to master</a> de Andrew Hunt et David Thomas.</p><figure class="post__image">
    <a href="https://amzn.to/3gj03ST"![Image description](https://www.sylvainmoingeon.fr/media/posts/30/atchoum.jpg =5760x3840)>
    <img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/30/the-pragmatic-programmer.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://www.sylvainmoingeon.fr/media/posts/30/responsive/the-pragmatic-programmer-xs.jpg 300w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/the-pragmatic-programmer-sm.jpg 480w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/the-pragmatic-programmer-md.jpg 768w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/the-pragmatic-programmer-lg.jpg 1024w"></img>
    </a>
    <figcaption>The Pragmatic  Programmer, from journeyman to master</figcaption>
</figure>

<p>Ce livre qui date de plus d‚Äôune vingtaine d‚Äôann√©es reste compl√®tement d‚Äôactualit√© tant les th√®mes qu‚Äôil aborde sont tranverses au d√©veloppement informatique et se basent avant tout sur les bonnes pratiques et surtout les risques de ne pas les suivre.</p><p>Vous y apprendrez par exemple pourquoi en vertu de <em><a href="https://fr.wikipedia.org/wiki/Hypoth%C3%A8se_de_la_vitre_bris%C3%A9e" title="Lien vers l&#39;article Wikip√©dia sur l&#39;hypoth√®se de la vitre bris√©e">l‚Äôhypoth√®se de la vitre bris√©e</a></em>, si un d√©veloppeur laisse tra√Æner quelques crottes de nez par-ci par-l√†, le code finira irr√©m√©diablement recouvert de s√©cr√©tions nasales.</p><p>Et en informatique, une crotte de nez peut avoir des r√©percussions graves.</p><p>En fait, une crotte de nez dans le code, c‚Äôest ce truc-l√†, qu‚Äôon ne voit pas de l‚Äôext√©rieur, qui ne semble pas influer sur le fonctionnel du point de vue de l‚Äôutilisateur mais qui, dans certains cas, laisse un arri√®re-go√ªt plut√¥t d√©sagr√©able.</p><p>Comme oublier de crypter des mots de passe. Je veux dire, au niveau du code, ce n‚Äôest pas grand-chose, hein (ah si ?). On oublie juste de passer le mot de passe dans la moulinette, rien de tr√®s grave en soit, personne ne s‚Äôen rend compte, tout est parfaitement fonctionnel. Et puis, un beau jour, c‚Äôest le scandale‚Ä¶</p><ul>
<li><a href="https://www.commentcamarche.net/news/5872520-facebook-stockait-des-centaines-de-millions-de-mots-de-passe-en-clair" title="Lien vers un article qui explique que Facebook stockait des millions de mot de passe en clair">Facebook stockait des millions de mot de passe instagram en clair</a></li>
<li><a href="https://www.cnetfrance.fr/news/oups-google-a-stocke-en-clair-des-mots-de-passe-durant-des-annees-39884993.htm" title="Lien vers un article qui explique que Google stockait des millions de mot de passe en clair">Petite crotte de nez chez Google : des mots de passe stock√©s en clair pendant des ann√©es</a></li>
</ul>
<p>J‚Äôai une autre anecdote sympa, c‚Äôest cocasse vous allez voir. J‚Äôai assist√© √† une sc√®ne surr√©aliste ou un d√©veloppeur a voulu montrer √† un op√©rateur comment supprimer des donn√©es dans la base clients. Jusque-l√†, rien de dramatique, on manipule des donn√©es, on les ins√®re, on les modifie, on les supprime, c‚Äôest la raison d‚Äô√™tre des bases de donn√©es.</p><p>Sauf qu‚Äôil a, par m√©garde, s√©lectionn√© l‚Äôensemble des donn√©es d‚Äôune table. Et que cette table avait une relation directe ou indirecte avec l‚Äôensemble de toutes les autres tables de la base de donn√©es.</p><p>Vous voyez le coup venir ? Une crise d‚Äô√©ternuement en approche !</p><figure class="post__image">
    <img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/30/atchoum-2.jpg" alt="Femme sur le point d'√©ternuer" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://www.sylvainmoingeon.fr/media/posts/30/responsive/atchoum-2-xs.jpg 300w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/atchoum-2-sm.jpg 480w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/atchoum-2-md.jpg 768w ,https://www.sylvainmoingeon.fr/media/posts/30/responsive/atchoum-2-lg.jpg 1024w"></img>
    <figcaption>Noooon, pas dans le code !</figcaption>
</figure>

<p>Dans le meilleur des mondes, il aurait d√ª y avoir une boite de dialogue de confirmation de suppression au niveau applicatif. Il aurait d√ª y avoir un contr√¥le au niveau de la base de donn√©es, en particulier sur une table critique comme celle-ci.</p><p>Mais voil√†, la boite de dialogue est rest√©e englu√©e dans une flaque de morve et la base de donn√©e a <strong>supprim√© toutes les donn√©es en cascade</strong> sans broncher.</p><p>Quand le d√©veloppeur a demand√©, l‚Äôespoir dans l‚Äô√¢me, <em>Ce n‚Äôest rien, nous allons restaurer les donn√©es, vous avez bien une sauvegarde r√©cente ?</em>, l‚Äôop√©rateur a constat√© que les scripts de sauvegarde ne tournaient plus depuis des semaines, sans envoyer les messages d‚Äôavertissement pr√©vus dans ce cas. La faute √† une crotte de nez. Encore.</p><h1 id="conclusion">Conclusion</h1>
<p>√ätre professionnel, ce n‚Äôest pas seulement produire du code fonctionnel, c‚Äôest aussi garantir une <strong>qualit√©</strong>, une <strong>p√©rennit√©</strong>, une <strong>√©volutivit√©</strong> du code. C‚Äôest-√†-dire un code qui fonctionne aujourd‚Äôhui et continuera de fonctionner demain, m√™me apr√®s modification.</p><p>Je pourrais √©galement parler de <strong>stabilit√©</strong> (√ßa fonctionne mais c‚Äôest un peu bancal), de <strong>fiabilit√©</strong> (√ßa fonctionne tr√®s bien‚Ä¶ quand √ßa fonctionne), ou de <strong>performance</strong> (√ßa fonctionne mais il faut √™tre patient, tr√®s patient).</p><p>Ou encore, insister sur la <strong>lisibilit√©</strong> d‚Äôun code que d‚Äôautres d√©veloppeurs n‚Äôauront pas de mal √† lire et √† comprendre. D‚Äôun code qui <em>coule de source</em> (ah ah ah) dans lequel les autres n‚Äôauront pas peur de mettre les mains. J‚Äôai failli dire les doigts‚Ä¶ dans le nez, bien entendu.</p><blockquote>
<p>Code toujours comme si la personne qui va maintenir ton code est un violent psychopathe qui sait o√π tu habites.</p><p><em>John F. Woods</em></p></blockquote>
<p>Alors √©videmment, comme je l‚Äôai dit, on ne pas toujours √™tre au top, on va parfois laisser quelques gouttes de sueurs perler dans la farine, le pain sera un peu moins cuit ou la p√¢te moins croustillante que d‚Äôhabitude. C‚Äôest comme √ßa, c‚Äôest la vie.</p><p><strong>Mais s‚Äôil vous plait, cessez de vous gratter le cul ou de vous curer le nez en bossant sous pr√©texte que √ßa ne va pas se voir !</strong></p>          
         </div>
            <aside>
                     <p class="content__last-updated">
                        Mis-√†-jour le
                           mercredi 26 ao√ªt 2020
                     </p>
                     <div class="content__share">
                         <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fdeveloppez-des-applications-sans-crotte-de-nez%2F" class="js-share facebook" title="Facebook" rel="nofollow noopener noreferrer">
                            <svg aria-hidden="true" focusable="false" viewBox="0 0 32 32">
                                <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#facebook" />
                            </svg> Facebook
                        </a>
                        
                        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fdeveloppez-des-applications-sans-crotte-de-nez%2F&amp;via=Sylvain%20Moingeon&amp;text=D%C3%A9veloppez%20des%20applications%20sans%20crotte%20de%20nez%20!
                        " class="js-share twitter" title="Twitter" rel="nofollow noopener noreferrer">
                            <svg aria-hidden="true" focusable="false" viewBox="0 0 32 32">
                                <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#twitter" />
                            </svg> Twitter
                        </a>
                        
                        
                        <a href="https://mix.com/add?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fdeveloppez-des-applications-sans-crotte-de-nez%2F" class="js-share mix" title="Mix" rel="nofollow noopener noreferrer">
                            <svg  aria-hidden="true" focusable="false" viewBox="0 0 32 32">
                                <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#mix" />
                            </svg>  Mix    
                        </a>
                        
                        
                        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fdeveloppez-des-applications-sans-crotte-de-nez%2F" class="js-share linkedin" title="LinkedIn" rel="nofollow noopener noreferrer">
                            <svg aria-hidden="true" focusable="false" viewBox="0 0 32 32">
                                <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#linkedin" />
                            </svg> LinkedIn
                        </a>
                        
                        
                           <a
                              href="https://api.whatsapp.com/send?text=D%C3%A9veloppez%20des%20applications%20sans%20crotte%20de%20nez%20! https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fdeveloppez-des-applications-sans-crotte-de-nez%2F" 
                              class="js-share whatsapp"
                              rel="nofollow noopener noreferrer">
                              <svg aria-hidden="true" focusable="false" viewBox="0 0 32 32">
                                 <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#whatsapp"/>
                              </svg> WhatsApp
                           </a>
                     </div>
            </aside>
            <footer>
                     <div class="content__bio">
                           <img 
                              src="https://www.gravatar.com/avatar/f0139f72232177b730a57cff5c38c0b2?s&#x3D;240" 
                               loading="lazy"
                              height="240"
                              width="240"
                              alt="Sylvain">                      
                           <h3>
                              <a href="https://www.sylvainmoingeon.fr/auteurs/sylvain/" class="inverse" title="Sylvain">Sylvain</a>
                           </h3>
                        <p>Un peu geek, dipl√¥m√© en sciences et en informatique, Sylvain confectionne logiciels et applications depuis 2007.</p>
<p>Depuis peu il fabrique, r√©pare et r√®gle des guitares classiques, folks et √©lectriques.</p>
<p>C'est aussi un p√®re de famille, instructeur de Yoseikan Budo b√©n√©vole et musicien amateur.</p>
                     </div>

                     <ul class="content__tag">
                           <li>
                              <a href="https://www.sylvainmoingeon.fr/tags/bonnes-pratiques/">bonnes pratiques</a>
                           </li>
                           <li>
                              <a href="https://www.sylvainmoingeon.fr/tags/professionnalisme/">professionnalisme</a>
                           </li>
                           <li>
                              <a href="https://www.sylvainmoingeon.fr/tags/software-craftsmanship/">software craftsmanship</a>
                           </li>
                     </ul>

                     <nav class="content__nav">
                           <div class="content__nav__prev">
                              Article pr√©c√©dent
                              <h3 class="h5">
                                 <a href="https://www.sylvainmoingeon.fr/integrez-vos-images-sans-douleur-dans-xamarinforms-avec-resizetizernt/" class="inverse" rel="prev">
                                    Int√©grez vos images sans douleur dans Xamarin.Forms avec ResizetizerNT
                                 </a>
                              </h5>
                           </div>
                           <div class="content__nav__next">
                              Article suivant
                              <h3 class="h5">
                                 <a href="https://www.sylvainmoingeon.fr/xamarinforms-a-quoi-ca-sert-mvvm/" class="inverse" rel="next">
                                    [Xamarin.Forms] MVVM - A quoi √ßa sert ?
                                 </a>
                              </h5>
                           </div>
                     </nav>

                     <div class="content__related">
                        <h3>
                           Cela vous int√©ressera peut-√™tre
                        </h3>
                        <div class="content__related__wrap">
                              <figure>
                                      <a href="https://www.sylvainmoingeon.fr/integrez-vos-images-sans-douleur-dans-xamarinforms-avec-resizetizernt/">
                                         <img 
                                                  src="https://www.sylvainmoingeon.fr/media/posts/19/responsive/resizetizernt-hero-2-xs.jpg"
                                               loading="lazy"
                                              alt="">
                                      </a>
                                 <figcaption>
                                    <time datetime="2020-07-14T17:00">
                                          mardi 14 juillet 2020
                                    </time>
                                    <h4>
                                       <a href="https://www.sylvainmoingeon.fr/integrez-vos-images-sans-douleur-dans-xamarinforms-avec-resizetizernt/" class="inverse">Int√©grez vos images sans douleur dans Xamarin.Forms avec ResizetizerNT</a>
                                    </h4>
                                 </figcaption>
                              </figure>
                        </div>
                     </div>
            </footer>
      </article>

         <div class="comments-area wrapper">
            
         </div>
    
    
</main>
</div>
 <footer class="footer">
    <p>       
         <a href="https://www.planetxamarin.com/">Featured by <br />
            <img src="https://www.planetxamarin.com/Content/img/planetxamarin-featured-badge.png" alt="Logo Planet Xamarin" width="180"/>
         </a>
    </p>

      <div class="footer__copyright">
         <p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a> - <a href="https://icons8.com/icon/38641/xamarin">using¬† Xamarin icon by Icons8</a>¬†</p>
<p><a href="../../../../../../../../../../mentions-legales" title="Mention l√©gales">Mentions l√©gales</a> - <a href="../../../../../../../../../../politique-des-commentaires" title="politique des commentaires">Politique des commentaires</a> - <a href="../../../../../../../../../../#cookie-settings" title="configuration des cookies">Configuration des cookies</a> -¬†<a href="../../../../../../../../../../feed.xml">Abonnez vous au flux rss <i class="fas fa-rss"></i></a></p>
      </div>
      <div class="footer__social">
            <a href="https://www.facebook.com/smoingeon" aria-label="Facebook" class="facebook">
               <svg>
                  <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#facebook"/>
               </svg>
            </a>
            <a href="https://twitter.com/SylvainMoingeon" aria-label="Twitter" class="twitter">
               <svg>
                  <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#twitter"/>
               </svg>
            </a>
            <a href="https://www.instagram.com/yoseikanquetigny/" aria-label="Instagram" class="instagram">
               <svg>
                  <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#instagram"/>
               </svg>
            </a>

         <!-- OVERRIDE AT END -->
         <a href="https://dev.to/sylvainmoingeon" style="font-size: 1.2rem; margin:28.8px 7.2px 0px" class="linkedin"> 
            <i class="fab fa-dev" title="sylvainmoingeon's DEV Profile"></i>
         </a>
      </div>
      <button class="footer__bttop js-footer__bttop" aria-label="On remonte tout en haut"> 
         <svg>
            <title>On remonte tout en haut</title>
            <use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#toparrow" />
         </svg>
      </button>   
</footer>

<!-- Prism syntax higlighting-->
<script defer src="https://www.sylvainmoingeon.fr/assets/js/prism.js"></script>

<script>
   window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };
</script>
<script defer src="https://www.sylvainmoingeon.fr/assets/js/scripts.min.js?v=e2bc0e7d7ff60ea78ee920470cf8c8a1"></script>
    <script>        
        var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>


<!-- Start main cookie container -->
<div 
    class="pcb"
    data-behaviour="badge-link"
    data-behaviour-link="#cookie-settings"
    data-revision="1"
    data-config-ttl="90"
    data-debug-mode="false">
    <!-- Start Banner -->
    <div 
        role="dialog" 
        aria-modal="true" 
        aria-hidden="true" 
        aria-labelledby="pcb-title" 
        aria-describedby="pcb-txt" 
        class="pcb__banner ">
        <div class="pcb__inner">
            <div 
                id="pcb-title" 
                role="heading" 
                aria-level="2" 
                class="pcb__title">
                Ce site web mange des cookies
            </div>
            <div 
                id="pcb-txt" 
                class="pcb__txt">
                Le syst√®me de commentaire (Disqus) utilis√© sur ce site enregistre des cookies sur votre appareil.

Et c'est tout.
                
            </div>
          
            <div class="pcb__buttons">
                
                <button 
                    type="button" 
                    class="pcb__btn pcb__btn--link pcb__btn--configure" 
                    aria-haspopup="dialog">
                    Manage preferences
                </button>
                
                
                <button 
                    type="button" 
                    class="pcb__btn pcb__btn--solid pcb__btn--accept">
                    Enregistrer
                </button>
            </div>
        </div>
    </div>
    <!-- End of Banner -->

    
    <!-- Start Popup -->
    <div 
        class="pcb__popup" 
        role="dialog" 
        aria-modal="true" 
        aria-hidden="true" 
        aria-labelledby="pcb-popup-title">
        <div class="pcb__popup__wrapper">
            <div class="pcb__inner pcb__popup__inner">
                <div class="pcb__popup__heading">
                    <div 
                        id="pcb-popup-title" 
                        role="heading" 
                        aria-level="2"
                        class="pcb__title">
                        Cookie settings
                    </div>
                    <button class="pcb__popup__close" aria-label="Close"></button>
                </div>
             
                <div class="pcb__popup__content">
                    <div class="pcb__txt pcb__popup__txt">
                        We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.

                        
                        
                        
                    </div>
                
                    <ul class="pcb__groups">
                        <li class="pcb__group">
                    <details>
                        <summary class="pcb__group__title no-desc">
                            Obligatoire
                        </summary>
                        
                    </details>
                    <div class="pcb__popup__switch is-checked">
                        <input 
                            type="checkbox" 
                            data-group-name=""
                            id="pcb-group-0" 
                            checked />
                        <label for="pcb-group-0">Obligatoire</label>
                    </div>
                </li>
            <li class="pcb__group">
                <details>
                    <summary class="pcb__group__title no-desc">
                        Disqus (syst√®me de commentaires)
                    </summary>
                    
                </details>
                <div class="pcb__popup__switch">
                    <input 
                        type="checkbox"
                        data-group-name="disqus"
                        id="disqus-cookies" />
                    <label for="disqus-cookies">
                        Disqus (syst√®me de commentaires)
                    </label>
                </div>
            </li>
                    </ul>
                </div>

                <div class="pcb__buttons pcb__popup__buttons">
                    <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button>
                    <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button>
                    <button type="button" class="pcb__btn pcb__btn--save">Save settings</button>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Popup -->
    <!-- Overlay -->
    <div class="pcb__overlay" aria-hidden="true"></div>
    <!-- End of Overlay -->
    

    
    <!-- Badge -->
    <button 
        class="pcb__badge" 
        aria-label="Cookies"
        aria-hidden="true">
        <svg 
            xmlns="http://www.w3.org/2000/svg" 
            aria-hidden="true" 
            focusable="false" 
            width="40" 
            height="40" 
            viewBox="0 0 23 23" 
            fill="currentColor">
            <path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z" />
        </svg>
    </button>
    <!-- End of Badge -->
    
</div>
<!-- End of main cookie container -->

        <script>
            
            (function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('üç™ Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('üç™ Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('üç™ GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('üç™ Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('üç™ GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('üç™ Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('üç™ Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('üç™ Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('üç™ Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('üç™ Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);

        </script>
</body>
</html>
