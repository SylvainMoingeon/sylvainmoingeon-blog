<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>De développeur à luthier, histoire d&#x27;une reconversion - Sylvain Moingeon</title><meta name="description" content="Sylvain Moingeon %pagetitle, récit d'une reconversion vers la lutherie"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.sylvainmoingeon.fr/de-developpeur-a-luthier-histoire-dune-reconversion/"><link rel="alternate" type="application/atom+xml" href="https://www.sylvainmoingeon.fr/feed.xml"><link rel="alternate" type="application/json" href="https://www.sylvainmoingeon.fr/feed.json"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@SylvainMoingeon"><meta name="twitter:title" content="De développeur à luthier, histoire d'une reconversion"><meta name="twitter:description" content="Sylvain Moingeon %pagetitle, récit d'une reconversion vers la lutherie"><meta name="twitter:image" content="https://www.sylvainmoingeon.fr/media/posts/43/cover.webp"><link href="https://www.sylvainmoingeon.fr/assets/fontawesome/css/all.css" rel="stylesheet"><link rel="stylesheet" href="https://www.sylvainmoingeon.fr/assets/css/prism.css"><link rel="shortcut icon" href="https://www.sylvainmoingeon.fr/media/website/favicon.png" type="image/png"><link rel="stylesheet" href="https://www.sylvainmoingeon.fr/assets/css/style.css?v=0e012ed91e5f5037de192001421feae3"><link rel="stylesheet" href="https://www.sylvainmoingeon.fr/assets/css/photoswipe.css?v=366561c4c503c68e3af3389ac4d7fb8e"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sylvainmoingeon.fr/de-developpeur-a-luthier-histoire-dune-reconversion/"},"headline":"De développeur à luthier, histoire d'une reconversion","datePublished":"2024-08-20T19:43","dateModified":"2024-08-26T17:07","image":{"@type":"ImageObject","url":"https://www.sylvainmoingeon.fr/media/posts/43/cover.webp","height":1024,"width":1024},"description":"Sylvain Moingeon %pagetitle, récit d'une reconversion vers la lutherie","author":{"@type":"Person","name":"Sylvain","url":"https://www.sylvainmoingeon.fr/auteurs/sylvain/"},"publisher":{"@type":"Organization","name":"Sylvain"}}</script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://www.sylvainmoingeon.fr/assets/svg/gallery-icons-light.svg);
			              }</style><script>function addEmailAddresses(){     
      document.querySelectorAll('.email').forEach(function(linkElement) {
      
        var domainname = window.atob("c3lsdmFpbm1vaW5nZW9uLmZy");
        var username = window.atob(linkElement.getAttribute("id"));
        var emailaddress = username + "@" + domainname;
        var mailto = window.atob("bWFpbHRv");  // mailto:
        //linkElement.innerHTML = emailaddress;
        linkElement.setAttribute("href", mailto + ":" + emailaddress + "?subject=[Contact%20site%20web]");
      });      
    }</script></head><body onload="addEmailAddresses()" class="line-numbers"><div class="container"><header class="top" id="js-top"><div><a class="logo" href="https://www.sylvainmoingeon.fr/">Sylvain Moingeon</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.sylvainmoingeon.fr/" target="_self">Accueil</a></li><li><a href="https://www.sylvainmoingeon.fr/contact/" target="_self">Contact</a></li></ul></nav></div></header><main class="post"><article class="content wrapper"><div class="hero hero--narrow"><header class="hero__header"><p><a href="https://www.sylvainmoingeon.fr/tags/reconversion/">reconversion</a></p><h1>De développeur à luthier, histoire d&#x27;une reconversion</h1><address>par <a href="https://www.sylvainmoingeon.fr/auteurs/sylvain/" rel="author">Sylvain</a></address>publié le <time datetime="2024-08-20T19:43">mardi 20 août 2024</time></header><figure class="hero__image"><img src="https://www.sylvainmoingeon.fr/media/posts/43/cover.webp" srcset="https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-xs.webp 300w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-sm.webp 480w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-md.webp 768w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-lg.webp 1024w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-xl.webp 1360w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/cover-2xl.webp 1600w" sizes="100vw" loading="eager" height="1024" width="1024" alt="Illustration d&#x27;un article de blog sur la reconversion d&#x27;un développeur informatique au métier de la lutherie"><figcaption>Facteur instrumental en .Net C#</figcaption></figure></div><div class="content__entry"><p>Voilà un peu plus d'une année que je n'ai écrit une ligne de code ! Je vais y revenir promis, mais à temps-partiel uniquement.</p><p>Pourquoi à temps-partiel ? C'est une longue remise en question qui a débutée en juin 2023 et j'aimerais en apporter le témoignage. Laissez-moi vous raconter l'histoire…<br><br>Depuis plus de 15 ans je suis développeur informatique. J'ai travaillé en TPE, dans un grand groupe, en tant qu'indépendant, puis dans une start-up. Mais comme cela arrive souvent, la start-up subit un (et même plusieurs) mauvais coups et met la clé sous la porte.<br><br>C'est ainsi que je me retrouve licencié économique en juin 2023. Je pourrais, étant donné le marché du travail dans mon domaine et mon expertise, retrouver rapidement un poste mais je décide de profiter de la période de chômage pour sortir la tête du guidon et prendre un peu de recul.<br><br>Et ce que je découvre n'est pas beau ! Ça craint !</p><figure class="post__image post__image--center"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/burnout.webp" height="1024" width="1024" alt="" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://www.sylvainmoingeon.fr/media/posts/43/responsive/burnout-xs.webp 300w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/burnout-sm.webp 480w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/burnout-md.webp 768w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/burnout-lg.webp 1024w"></figure><p><br>Bien qu'aimant mon job, je me rends compte que je ne suis absolument pas épanoui. J'aime coder, développer, voir un projet évoluer et prendre forme, mais les conditions de travail me rendent malades :<br><br>Je ne supporte plus d'être assis toute la journée derrière un écran, ça me rend aigri, le soir je suis complètement sous tension, la tête prête à exploser.<br><br>Au fil du temps, mon corps développe toutes sortes de troubles musculo-squelettiques, j'ai en permanence mal aux mains, aux coudes, au dos, aux hanches et aux genoux.<br><br>Tous les soirs, je passe plus d'une heure à effectuer des exercices de mobilité et d'étirement pour réussir à atténuer la douleur. Sans quoi je ne dors pas la nuit. Tout ce temps, je pourrais le passer avec ma famille ou profiter de mes loisirs.<br><br>En journée je me rends à mes séances d'orthoptie parce qu'à force de fixer un écran&nbsp; en permanence, mes yeux ont développé un strabisme et une incapacité à se relâcher. J'ai les yeux lourds et mal au crâne du matin au soir.<br><br>Je me rends subitement compte que mes deux bébés sont des ados. Je ne les ai pas vu grandir.<br><br>Et en plus, j'ai 45 ans, l'heure de la crise !</p><figure class="post__image post__image--center"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/frustration.jpeg" height="1024" width="1024" alt="" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://www.sylvainmoingeon.fr/media/posts/43/responsive/frustration-xs.jpeg 300w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/frustration-sm.jpeg 480w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/frustration-md.jpeg 768w, https://www.sylvainmoingeon.fr/media/posts/43/responsive/frustration-lg.jpeg 1024w"></figure><p>Dans le cadre de mon licenciement, j'intègre le Contrat de Sécurisation Professionnel de Pole Travail (j'ai commencé avec l'un, terminé avec l'autre) qui délègue la tâche à la société Solerys.<br><br>A ce moment-là, je suis complètement paumé. Je ne sais plus où je suis, ni où je vais. Ni dans quel état j'erre (j'ai le droit au "dad jokes", j'ai l'âge et les enfants requis). J'ai un dégout profond des écrans, je ne regarde même plus la TV. Impossible pour moi de m'imaginer retourner dans l'informatique.<br><br>Dans le brouillard total, je tourne en rond, je ne sais quoi faire. Ou plutôt, je sais trop quoi faire mais dans quelle direction me tourner ? Entre rêves inassouvis et nombreux centres d'intérêts, je me dis pourquoi pas ? Mais quoi ?<br><br>Lors de mon suivi, j'ai la chance de tomber sur une consultante à l'écoute et ouverte (coucou Lydie). Lorsqu'elle me demande si j'ai des projets, je me surprends moi-même à lui en sortir toute une liste :</p><ul><li>Faire de la photo, une de mes passions laissée à l'abandon faute de temps</li><li>Capitaliser sur mes études scientifiques (BAC+5) pour revenir dans ce domaine<br></li><li>Me professionnaliser au niveau du sport (je suis animateur bénévole dans un club d'arts-martiaux)<br></li><li>Trouver une activité en lien avec la musique (passionné de guitare)<br></li><li>Me lancer dans un métier manuel, tiens pourquoi pas en rapport avec la guitare (je me souviens à cette occasion être passé plusieurs fois devant des ateliers de luthier en soupirant "pourquoi pas moi ?")<br></li></ul><p>S'ensuit un accompagnement, avec bilan de compétences, profil psychologique, recherche d'un point d'accroche entre mes centres d'intérêts, mes qualités, mes aspirations et un éventuel projet professionnel.<br><br>Et peu-à-peu, celui-ci se dessine, la balance penche de plus en plus vers la lutherie.<br><br>C'est ainsi que je me retrouve en formation dans un atelier de facture instrumentale jusqu'en aout 2024. Et c'est le bonheur total. :-)</p><div class="gallery-wrapper gallery-wrapper--wide"><div class="gallery" data-columns="3"><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20231128_184139.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20231128_184139-thumbnail.jpg" height="576" width="768" alt="Des instruments de musique pendus au plafond dans un atelier de lutherie"></a><figcaption>Ambiance au centre de formation</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20231129_112248.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20231129_112248-thumbnail.jpg" height="576" width="768" alt="Photo illustrant des moules utilisés pour fabriquer des guitares"></a><figcaption>Une belle collection de moules</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240301_095101.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240301_095101-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le cintrage d'une éclisse"></a><figcaption>Un pan coupé qui m'a donné du fil (ou plutôt du bois) à retordre</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240301_160706.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240301_160706-thumbnail.jpg" height="576" width="768" alt=""></a></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240402_154406.jpg" data-size="2576x1932"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240402_154406-thumbnail.jpg" height="576" width="768" alt="Photo illustrant un ciseau à bois affleurant un filet dans une rosace de guitare"></a><figcaption>Affleurage d'un filet de rosace</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240404_165316.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240404_165316-thumbnail.jpg" height="576" width="768" alt="Photo illustrant un collage au ciel"></a><figcaption>Collage au ciel</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240405_162705.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240405_162705-thumbnail.jpg" height="576" width="768" alt="Photo illustrant les barrages de table d'harmonie dans une guitare"></a><figcaption>Présentation de la table d'harmonie sous les éclisses. Ne paniquez pas les puristes, les barrages ne sont pas encore ajustés ni scalopés</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240411_165205.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240411_165205-thumbnail.jpg" height="576" width="768" alt="Photo illustrant une vielle à roue de 1742 et sa réplique exacte"></a><figcaption>Une très vieille vielle (1742) et sa réplique en vue de conservation</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240513_175718.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240513_175718-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le collage des filets d'éclisse sur une guitare classique"></a><figcaption>Collage des filets avec la technique ultra moderne et sophistiquée des "bouts de scotch"</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240516_121424.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240516_121424-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le chanfrein de confort d'une guitare classique"></a><figcaption>Chanfrein de confort</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240607_152241.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240607_152241-thumbnail.jpg" height="576" width="768" alt="Photo illustrant un luthier travaillant au racloir"></a><figcaption>On s'occupe du sillon interfessier de la guitare (vocabulaire très officiel, il va sans dire)</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240613_120653.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240613_120653-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le profilage d'un manche de guitare"></a><figcaption>Profilage du manche</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240613_161832.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240613_161832-thumbnail.jpg" height="576" width="768" alt="Photo illustrant l'emboitement du manche sur la caisse"></a><figcaption>Emboitement du manche sur la caisse</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_164653.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_164653-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le talon de la guitare"></a><figcaption>Décoration du talon en érable pour la continuité avec les filets</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_164717.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_164717-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le talon de la guitare"></a><figcaption>Décoration du talon en érable pour la continuité avec les filets</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_175523.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240621_175523-thumbnail.jpg" height="576" width="768" alt="Photo illustrant une guitare assemblée mais pas encore terminée"></a><figcaption>Ça semble presque terminé, mais comme en informatique, quand c'est presque fini, ça ne fait que commencer !</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240627_111132.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240627_111132-thumbnail.jpg" height="576" width="768" alt="Photo illustrant l'usinage d'un chevalet de guitare"></a><figcaption>Usinage du chevalet</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240702_162427.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240702_162427-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le chevalet terminé"></a><figcaption>Le chevalet prêt à être posé</figcaption></figure><figure class="gallery__item"><a href="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240705_110756.jpg" data-size="4624x3468"><img decoding="async" loading="lazy" src="https://www.sylvainmoingeon.fr/media/posts/43/gallery/20240705_110756-thumbnail.jpg" height="576" width="768" alt="Photo illustrant le collage du chevalet"></a><figcaption>Collage du chevalet (la guitare a été vernie entre temps)</figcaption></figure></div></div><p>Enfin, nonobstant l'éloignement de ma famille (ce n'est pas à côté de chez moi) et les frais considérables, en moyenne 500€ par mois pour le logement et le carburant. Quand on vit sur les allocations chômage, ça pique. Mais toucher son rêve du bout du doigt mérite bien quelques sacrifices, n'est-ce pas ?<br><br>J'y apprends le travail du bois, les bases de la fabrication d'instruments, en commençant petit (Ukulélé), puis viennent les guitares classiques et électriques. J'y vois aussi des techniques de réparations/restauration. Du réglage, mais ça je savais déjà faire. J'y découvre des instruments que je connaissais peu (balalaïka, bouzouki, vielle à roue) et d'autres qui m'étaient parfaitement inconnus (Nickelharpa).<br><br>J'apprends, je découvre, j'explore et je crée. Mes activités préférées en somme. Je me rends d'ailleurs compte que c'est aussi, au départ, ce qui m'avait poussé dans le développement logiciel. Ce n'est pas coder qui m'attirait, mais apprendre de nouvelles techniques, les appliquer pour construire quelque chose de nouveau. Observer un logiciel "pousser" sous mes yeux. Et avec le recul, je me rends compte que c'est la même pour la photo et l'enseignement des arts-martiaux : apprendre et appliquer ce que j'ai appris pour construire quelque chose de nouveau !<br><br>Aurai-je découvert mon Ikigaï ?<br><br>Mais voilà, le temps de la formation est révolu, mes pieds redescendent lentement sur terre. Il me reste 3 mois d'allocations chômage et je sais pertinemment qu'il me faudra du temps avant d'être rentable en tant que luthier et avoir une activité pérenne.</p><p>Je reviens donc à la réalité : un travail que je sais faire qui paie bien et la lutherie comme complément. D'autant que ma conjointe est elle-même artisan et deux métiers indépendants pour une famille avec enfants, c'est trop dangereux. On en a fait les frais pendant la crise du covid (j'étais Freelance à cette époque), autant assurer un minimum de sécurité pour au moins l'un des deux.&nbsp;<br><br>Voilà pourquoi, après une année de remise en question, je suis de nouveau à l'écoute d’opportunités, à partir du mois de décembre et à temps-partiel uniquement.<br><br>Dans le développement informatique de préférence, puisque c'est mon domaine d'expertise, mais après tout, je reste réceptif à d'autres propositions, cette dernière année ayant eu l'effet de considérablement m'ouvrir l'esprit.</p><p>Mon atelier de lutherie est en cours d'aménagement, on m'a déjà confié une guitare à restaurer et j'en ai une en cours de fabrication (pas une commande malheureusement, c'est pour exposer).</p><p>Mais d'ici à ce que ça m'occupe à plein temps, il y a, je pense, matière à ce que je participe activement à d'autres projets. 😉</p><p>Un développeur qui fabrique des guitares, qui a des rêves et se donne les moyens de les réaliser, ça vous intéresse ? contactez-moi !</p><p>Un luthier qui a l'esprit cartésien, le sens du détail et l'esprit d'analyse d'un développeur informatique, ça vous intéresse ? contactez-moi aussi, c'est le même mec !</p><p>Bien merci à toi qui a tout lu jusqu'ici !<br><br>Ah, et oui, zut : like, partage et tout ça, hein.</p></div><aside><p class="content__last-updated">Mis-à-jour le lundi 26 août 2024</p><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fde-developpeur-a-luthier-histoire-dune-reconversion%2F" class="js-share facebook" title="Facebook" rel="nofollow noopener noreferrer"><svg aria-hidden="true" focusable="false" viewBox="0 0 32 32"><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#facebook"/></svg> Facebook </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fde-developpeur-a-luthier-histoire-dune-reconversion%2F&amp;via=Sylvain%20Moingeon&amp;text=De%20d%C3%A9veloppeur%20%C3%A0%20luthier%2C%20histoire%20d'une%20reconversion" class="js-share twitter" title="Twitter" rel="nofollow noopener noreferrer"><svg aria-hidden="true" focusable="false" viewBox="0 0 32 32"><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="https://mix.com/add?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fde-developpeur-a-luthier-histoire-dune-reconversion%2F" class="js-share mix" title="Mix" rel="nofollow noopener noreferrer"><svg aria-hidden="true" focusable="false" viewBox="0 0 32 32"><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#mix"/></svg> Mix </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fde-developpeur-a-luthier-histoire-dune-reconversion%2F" class="js-share linkedin" title="LinkedIn" rel="nofollow noopener noreferrer"><svg aria-hidden="true" focusable="false" viewBox="0 0 32 32"><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#linkedin"/></svg> LinkedIn </a><a href="https://api.whatsapp.com/send?text=De%20d%C3%A9veloppeur%20%C3%A0%20luthier%2C%20histoire%20d'une%20reconversion https%3A%2F%2Fwww.sylvainmoingeon.fr%2Fde-developpeur-a-luthier-histoire-dune-reconversion%2F" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg aria-hidden="true" focusable="false" viewBox="0 0 32 32"><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#whatsapp"/></svg> WhatsApp</a></div></aside><footer><div class="content__bio"><img src="https://www.gravatar.com/avatar/f0139f72232177b730a57cff5c38c0b2?s&#x3D;240" loading="lazy" height="240" width="240" alt="Sylvain"><h3><a href="https://www.sylvainmoingeon.fr/auteurs/sylvain/" class="inverse" title="Sylvain">Sylvain</a></h3><p>Un peu geek, diplômé en sciences et en informatique, Sylvain confectionne logiciels et applications depuis 2007.</p><p>Depuis peu il fabrique, répare et règle des guitares classiques, folks et électriques.</p><p>C'est aussi un père de famille, instructeur de Yoseikan Budo bénévole et musicien amateur.</p></div><ul class="content__tag"><li><a href="https://www.sylvainmoingeon.fr/tags/developpeur-informatique/">développeur informatique</a></li><li><a href="https://www.sylvainmoingeon.fr/tags/facture-instrumentale/">facture instrumentale</a></li><li><a href="https://www.sylvainmoingeon.fr/tags/guitare/">guitare</a></li><li><a href="https://www.sylvainmoingeon.fr/tags/lutherie/">lutherie</a></li><li><a href="https://www.sylvainmoingeon.fr/tags/luthier/">luthier</a></li><li><a href="https://www.sylvainmoingeon.fr/tags/reconversion/">reconversion</a></li></ul><nav class="content__nav"><div class="content__nav__prev">Article précédent<h3 class="h5"><a href="https://www.sylvainmoingeon.fr/authentification-azure-directory-b2c-dans-une-application-xamarinforms/" class="inverse" rel="prev">Authentification Azure Directory B2C dans une application Xamarin.Forms</a></h3></div></nav></footer></article><div class="comments-area wrapper"></div></main></div><footer class="footer"><p><a href="https://www.planetxamarin.com/">Featured by<br><img src="https://www.planetxamarin.com/Content/img/planetxamarin-featured-badge.png" alt="Logo Planet Xamarin" width="180"></a></p><div class="footer__copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii Static CMS</a> - <a href="https://icons8.com/icon/38641/xamarin">using  Xamarin icon by Icons8</a> </p><p><a href="../../../../../../../../../../mentions-legales" title="Mention légales">Mentions légales</a> - <a href="../../../../../../../../../../politique-des-commentaires" title="politique des commentaires">Politique des commentaires</a> - <a href="../../../../../../../../../../#cookie-settings" title="configuration des cookies">Configuration des cookies</a> - <a href="../../../../../../../../../../feed.xml">Abonnez vous au flux rss <i class="fas fa-rss"></i></a></p></div><div class="footer__social"><a href="https://www.facebook.com/smoingeon" aria-label="Facebook" class="facebook"><svg><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/SylvainMoingeon" aria-label="Twitter" class="twitter"><svg><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/yoseikanquetigny/" aria-label="Instagram" class="instagram"><svg><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://dev.to/sylvainmoingeon" style="font-size: 1.2rem; margin:28.8px 7.2px 0px" class="linkedin"><i class="fab fa-dev" title="sylvainmoingeon's DEV Profile"></i></a></div><button class="footer__bttop js-footer__bttop" aria-label="On remonte tout en haut"><svg><title>On remonte tout en haut</title><use xlink:href="https://www.sylvainmoingeon.fr/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://www.sylvainmoingeon.fr/assets/js/prism.js"></script><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://www.sylvainmoingeon.fr/assets/js/scripts.min.js?v=e2bc0e7d7ff60ea78ee920470cf8c8a1"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://www.sylvainmoingeon.fr/assets/js/photoswipe.min.js?v=017385b552f7e0d979e2e2fe6f324015"></script><script defer="defer" src="https://www.sylvainmoingeon.fr/assets/js/photoswipe-ui-default.min.js?v=d067f0883540b1ddda0e2c9ad1b14260"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};window.addEventListener('load', function () {initPhotoSwipeFromDOM('.gallery');}, false);</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div class="pcb" data-behaviour="badge-link" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Ce site web mange des cookies</div><div id="pcb-txt" class="pcb__txt">Le système de commentaire (Disqus) utilisé sur ce site enregistre des cookies sur votre appareil. Et c'est tout.</div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Enregistrer</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.</div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Obligatoire</summary></details><div class="pcb__popup__switch is-checked"><input type="checkbox" data-group-name="" id="pcb-group-0" checked="checked"> <label for="pcb-group-0">Obligatoire</label></div></li><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Disqus (système de commentaires)</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="disqus" id="disqus-cookies"> <label for="disqus-cookies">Disqus (système de commentaires)</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookies" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('🍪 Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('🍪 Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('🍪 Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('🍪 Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('🍪 Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('🍪 Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>